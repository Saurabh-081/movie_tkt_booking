{"ast":null,"code":"import axios from 'axios';\nconst API = 'http://localhost:5000';\nexport async function registerRequest(email, password) {\n  const res = await axios.post(`${API}/register`, {\n    email,\n    password\n  });\n  return res.data;\n}\nexport async function loginRequest(email, password) {\n  const res = await axios.post(`${API}/login`, {\n    email,\n    password\n  });\n  return res.data;\n}\nexport function saveToken(token) {\n  localStorage.setItem('auth_token', token);\n}\nexport function getToken() {\n  return localStorage.getItem('auth_token');\n}\nexport function isAuthenticated() {\n  return !!getToken();\n}\nexport function logout() {\n  localStorage.removeItem('auth_token');\n}\n// Attach token to all axios requests\naxios.interceptors.request.use(config => {\n  const token = getToken();\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, err => Promise.reject(err));\nexport async function forgotPasswordRequest(email) {\n  const res = await axios.post(`${API}/forgot`, {\n    email\n  });\n  return res.data;\n}\nexport async function resetPasswordRequest(token, password) {\n  const res = await axios.post(`${API}/reset`, {\n    token,\n    password\n  });\n  return res.data;\n}","map":{"version":3,"names":["axios","API","registerRequest","email","password","res","post","data","loginRequest","saveToken","token","localStorage","setItem","getToken","getItem","isAuthenticated","logout","removeItem","interceptors","request","use","config","headers","Authorization","err","Promise","reject","forgotPasswordRequest","resetPasswordRequest"],"sources":["C:/Users/Saurabh/OneDrive/Desktop/Movie_tkt_booking/frontend-react/src/utils/auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API = 'http://localhost:5000';\r\n\r\nexport async function registerRequest(email, password){\r\n  const res = await axios.post(`${API}/register`, { email, password });\r\n  return res.data;\r\n}\r\n\r\nexport async function loginRequest(email, password){\r\n  const res = await axios.post(`${API}/login`, { email, password });\r\n  return res.data;\r\n}\r\n\r\nexport function saveToken(token){\r\n  localStorage.setItem('auth_token', token);\r\n}\r\n\r\nexport function getToken(){\r\n  return localStorage.getItem('auth_token');\r\n}\r\n\r\nexport function isAuthenticated(){\r\n  return !!getToken();\r\n}\r\n\r\nexport function logout(){\r\n  localStorage.removeItem('auth_token');\r\n}\r\n// Attach token to all axios requests\r\naxios.interceptors.request.use(config => {\r\n  const token = getToken();\r\n  if (token){\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n}, err => Promise.reject(err));\r\n\r\nexport async function forgotPasswordRequest(email){\r\n  const res = await axios.post(`${API}/forgot`, { email });\r\n  return res.data;\r\n}\r\n\r\nexport async function resetPasswordRequest(token, password){\r\n  const res = await axios.post(`${API}/reset`, { token, password });\r\n  return res.data;\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAG,uBAAuB;AAEnC,OAAO,eAAeC,eAAeA,CAACC,KAAK,EAAEC,QAAQ,EAAC;EACpD,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,GAAG,WAAW,EAAE;IAAEE,KAAK;IAAEC;EAAS,CAAC,CAAC;EACpE,OAAOC,GAAG,CAACE,IAAI;AACjB;AAEA,OAAO,eAAeC,YAAYA,CAACL,KAAK,EAAEC,QAAQ,EAAC;EACjD,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,GAAG,QAAQ,EAAE;IAAEE,KAAK;IAAEC;EAAS,CAAC,CAAC;EACjE,OAAOC,GAAG,CAACE,IAAI;AACjB;AAEA,OAAO,SAASE,SAASA,CAACC,KAAK,EAAC;EAC9BC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEF,KAAK,CAAC;AAC3C;AAEA,OAAO,SAASG,QAAQA,CAAA,EAAE;EACxB,OAAOF,YAAY,CAACG,OAAO,CAAC,YAAY,CAAC;AAC3C;AAEA,OAAO,SAASC,eAAeA,CAAA,EAAE;EAC/B,OAAO,CAAC,CAACF,QAAQ,CAAC,CAAC;AACrB;AAEA,OAAO,SAASG,MAAMA,CAAA,EAAE;EACtBL,YAAY,CAACM,UAAU,CAAC,YAAY,CAAC;AACvC;AACA;AACAjB,KAAK,CAACkB,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACvC,MAAMX,KAAK,GAAGG,QAAQ,CAAC,CAAC;EACxB,IAAIH,KAAK,EAAC;IACRW,MAAM,CAACC,OAAO,CAACC,aAAa,GAAG,UAAUb,KAAK,EAAE;EAClD;EACA,OAAOW,MAAM;AACf,CAAC,EAAEG,GAAG,IAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC,CAAC;AAE9B,OAAO,eAAeG,qBAAqBA,CAACxB,KAAK,EAAC;EAChD,MAAME,GAAG,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,GAAG,SAAS,EAAE;IAAEE;EAAM,CAAC,CAAC;EACxD,OAAOE,GAAG,CAACE,IAAI;AACjB;AAEA,OAAO,eAAeqB,oBAAoBA,CAAClB,KAAK,EAAEN,QAAQ,EAAC;EACzD,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,GAAG,QAAQ,EAAE;IAAES,KAAK;IAAEN;EAAS,CAAC,CAAC;EACjE,OAAOC,GAAG,CAACE,IAAI;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}